**自动化的流程**

* 确定目标：确定自动化的范围；
  * 新项目：前端部分（核心业务流）
  * 维护项目：稳定的业务（流程->功能）
* 自动化需求分析：分析适合开展自动化的流程和场景用例；
* 自动化方案选型：工具，框架的选择；选择适合团队的；
  * 考虑因素：成本（开源、付费），项目的架构（B/S，C/S）,人员的能力（代码编程，自己写，录制），编程语言（Python，Java）；
* 测试计划：自动化开展所需要的人力资源，时间周期，工作安排；
* 设计用例：从功能用例中挑选适合自动化的流程用例或场景用例；没有就单独设计；(Excel)
* 框架设计：自动化测试过程所需要的各种配置文件的设计，测试数据，测试用例，测试报告，测试组件等测试资源的规范统一；
* 脚本编写：根据测试用例，转换或编写对应的测试脚本；
* 环境搭建：测试过程中所需要的配套资源。代码编译工具IDE（PyCharm），Python的安装，项目的部署；
* 脚本执行：执行自动化测试脚本，单脚本的调试执行，单场景的验证，批量的迭代执行；
* 测试报告：对执行的结果进行分析，提交测试缺陷，总结测试报告；
* 脚本维护：对测试中存在的脚本问题，框架设计缺陷进行优化调整；

**测试需求分析->测试计划制定->测试用例设计->测试框架搭建->测试脚本编写->脚本执行->结果分析->测试报告**

**自动化测试工具**

* Selenium：开源，跨平台，跨浏览器，多编程语言；框架集成度高，生态丰富；支持B/S，不支持C/S，代码编程要求高；
* UET (QTP)：企业级付费，支持录制回放，支持B/S，C/S；付费，成本高；
* Robot Framework (RF)：关键字驱动，封装程度高，简单易用；不支持对代码底层的修改；
* Cypress：基于前端开发框架(Vue/React/Angular）的前端自动化，js/ts；只支持IS，多浏览需付费;
* Playwright：微软系，支持多浏览器，支持录制回放；兼容性比较差；

**自动化测试用例**

* 定义：从功能测试用例中挑选具有代表性的业务流程或功能场景，形成的测试用例；
* 自动化用例编写原则
  * 自动化用例是一个完整的场景，脚本编写要有始有终（从开始，到退出浏览器）；
  * 自动化用是证明功能可用的，主要由正向用例组成；避免使用逆向或异常用例；
  * 自动化测试用例相对独立，测试用例之间尽量减少相互依赖；
  * 测试用例执行完成要进行场景还原，避免干扰影响其他用例执行；
  * 测试用例要尽可能细化操作；

| 编号                 | 标题                              | 数据                                                                                               | 步骤                                                               | 预期           | 优先级 | 测试结果 |
| -------------------- | --------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ | -------------- | ------ | -------- |
| ECS_Flow_shopping_01 | 验证购物流程_单商品直接购买支付   | 用户名：tom<br />登录密码：123<br />keyword：华为手机<br />商品名称：华为Pro70<br />支付密码：1234 | 1.用户登录<br />2.搜索商品<br />3.选择商品立即购买<br />4.支付商品 | 与步骤一一对应 |        |          |
| ECS_Flow_shopping_02 | 验证购物流程_购物车中批量结算支付 |                                                                                                    |                                                                    |                |        |          |

**自动化测试架构方式**

* 线性架构：按照测试用例形成线性化的流程脚本，每个脚本对应一条测试用例；
  * 特点：脚本相对独立，执行度比较高；脚本复用性较差，维护成本比较高；
* 模块化驱动：对项目中重复使用的功能业务，封装成一个独立模块，方便在不同用例中调用；
  * 特点：业务模块化，减少代码的重复量，提高复用率；代码重复使用，执行用例时，相同的测试数据导致用例通过率较低；
* 数据驱动：在模块化驱动的基础上，将测试数据从脚本中分离出来，使用不同的参数化方式实现DDT；
  * 特点：测试数据和测试脚本进行数据分离，提供逻辑模块的复用率和用例执行率；需要重构业务，提升脚本编写的复杂度；
* 关键字驱动：通过对底层业务的封装，实现使用关键字对业务进行行为驱动，简化测试的代码复杂度；
  * 特点：高度封装底层逻辑，对外暴露关键行为，降低自动化门槛；不便于对底层进行自定义开发，无法实现个性化脚本自动化；

**自动化测试环境搭建**

* 安装Python：Python3.9+以上版本
* 安装Selenium：`pip install -U selenium` 更新安装
* 安装浏览及驱动：下载最新或稳定的Chrome/FireFox/Edge，及对应的驱动；配置环境变量（驱动放在Python路径）
* 编程工具IDE：PyCharm；
* 创建项目：项目名称和路径避免使用中文，Python解释器选择本地Python；

**环境问题解决**

* Python解释器冲突问题：
  * 存在多版本的Python，系统环境变量配置顺序不一致导致执行版本不一致；
  * 虚拟解释器和本地解释器，PyCharm 创建项目默认使用even虚拟解释，需更改为本地解释器；
* 浏览器与驱动冲突：浏览器版本与驱动版本不一致；推荐浏览器驱动及时检查，环境变量配置固定位置；
* Selenium版本更新：及时更新selenium

**Selenium 的使用**
